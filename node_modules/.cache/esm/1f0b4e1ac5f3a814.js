let express,mysql,api;_c5f‍.x([["connection",()=>connection]]);_c5f‍.w("express",[["default",["express"],function(v){express=v}]]);_c5f‍.w("mysql",[["default",["mysql"],function(v){mysql=v}]]);_c5f‍.w("./routes",[["*",null,function(v){api=v}]]);



/** Mysql database connection **/
const connection = _c5f‍.a("mysql",mysql).createConnection({
    host: process.env.MYSQL_HOST || '0.0.0.0',
    port: process.env.MYSQL_PORT || '3307',
    user: process.env.MYSQL_USER || 'mcadmin',
    password: process.env.MYSQL_PW || 'MCPW1234',
    database: process.env.MYSQL_DB_NAME || 'task',
})

connection.connect((err) => {
    if (err) throw err;
    console.log('Mysql Connected!');
});
const app = _c5f‍.a("express",express)();

app.use(_c5f‍.a("express",express).json());       // to support JSON-encoded bodies
app.use(_c5f‍.a("express",express).urlencoded({extended: true}));

app.use('/task', [api.apiRoutes]);

const API_PORT = process.env.API_PORT || 3000;
app.listen(API_PORT, "0.0.0.0", () => {
    console.log(`App listening on port ${API_PORT}!`);
});

;_c5f‍.j(["connection"]);

